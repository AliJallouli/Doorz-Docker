<div class="page-wrapper">
  <!-- Section supérieure -->
  <div class="section-container top-section" *ngIf="menuType === '' || menuType === 'student'">
    <div class="section-content">
      <app-global-search></app-global-search>
    </div>
  </div>

  <!-- Contenu principal (ton code existant) -->
  <div class="section-container landing-page-container">

    <!-- Route racine ou sections étudiantes : structure en deux colonnes -->
    <ng-container *ngIf="menuType === '' || menuType === 'student'">
      <!-- Colonne de gauche (30%) : Accordéon personnalisé -->
      <div class="sidebar">
        <div class="accordion">
          <!-- Recherche de job étudiant -->
          <div class="accordion-item" *ngIf="activePanel === 0">
            <div class="accordion-header" [ngClass]="{'active-panel': isPanelOpen}" (click)="togglePanel(0)">
              <svg width="49" height="28" viewBox="0 0 49 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="22" width="41" height="3" fill="#605C5C"/>
                <rect x="3" y="4" width="41" height="3" fill="#605C5C"/>
                <rect x="6" y="13" width="41" height="3" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 29.4044 9.17239)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999994 0.00352852 -0.00042877 1 14.0042 0)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 11.9695 18.2779)" fill="#605C5C"/>
                <circle cx="43.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="3.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="47.5" cy="14.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="43" cy="23.5" rx="1" ry="1.5" fill="#605C5C"/>
                <circle cx="1.5" cy="23.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="6" cy="14.5" rx="1" ry="1.5" fill="#605C5C"/>
              </svg>
              <h3>{{ 'SEARCH.STUDENT_JOB.TITLE' | translate }}</h3>
            </div>
            <div class="accordion-content" [ngClass]="{'active-panel': isPanelOpen}">
              <app-student-job-search (searchResults)="onSearchResults($event)"></app-student-job-search>
            </div>
          </div>

          <!-- Recherche de stage -->
          <div class="accordion-item" *ngIf="activePanel === 1">
            <div class="accordion-header" [ngClass]="{'active-panel': isPanelOpen}" (click)="togglePanel(1)">
              <svg width="49" height="28" viewBox="0 0 49 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="22" width="41" height="3" fill="#605C5C"/>
                <rect x="3" y="4" width="41" height="3" fill="#605C5C"/>
                <rect x="6" y="13" width="41" height="3" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 29.4044 9.17239)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999994 0.00352852 -0.00042877 1 14.0042 0)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 11.9695 18.2779)" fill="#605C5C"/>
                <circle cx="43.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="3.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="47.5" cy="14.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="43" cy="23.5" rx="1" ry="1.5" fill="#605C5C"/>
                <circle cx="1.5" cy="23.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="6" cy="14.5" rx="1" ry="1.5" fill="#605C5C"/>
              </svg>
              <h3>{{ 'SEARCH.INTERNSHIP.TITLE' | translate }}</h3>
            </div>
            <div class="accordion-content" [ngClass]="{'active-panel': isPanelOpen}">
              <app-internship-search (searchResults)="onSearchResults($event)"></app-internship-search>
            </div>
          </div>

          <!-- Recherche d'études et formations -->
          <div class="accordion-item" *ngIf="activePanel === 2">
            <div class="accordion-header" [ngClass]="{'active-panel': isPanelOpen}" (click)="togglePanel(2)">
              <svg width="49" height="28" viewBox="0 0 49 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="22" width="41" height="3" fill="#605C5C"/>
                <rect x="3" y="4" width="41" height="3" fill="#605C5C"/>
                <rect x="6" y="13" width="41" height="3" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 29.4044 9.17239)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999994 0.00352852 -0.00042877 1 14.0042 0)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 11.9695 18.2779)" fill="#605C5C"/>
                <circle cx="43.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="3.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="47.5" cy="14.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="43" cy="23.5" rx="1" ry="1.5" fill="#605C5C"/>
                <circle cx="1.5" cy="23.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="6" cy="14.5" rx="1" ry="1.5" fill="#605C5C"/>
              </svg>
              <h3>{{ 'SEARCH.STUDY.TITLE' | translate }}</h3>
            </div>
            <div class="accordion-content" [ngClass]="{'active-panel': isPanelOpen}">
              <app-study-search (searchResults)="onSearchResults($event)"></app-study-search>
            </div>
          </div>

          <!-- Recherche d'événements -->
          <div class="accordion-item" *ngIf="activePanel === 3">
            <div class="accordion-header" [ngClass]="{'active-panel': isPanelOpen}" (click)="togglePanel(3)">
              <svg width="49" height="28" viewBox="0 0 49 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="22" width="41" height="3" fill="#605C5C"/>
                <rect x="3" y="4" width="41" height="3" fill="#605C5C"/>
                <rect x="6" y="13" width="41" height="3" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 29.4044 9.17239)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999994 0.00352852 -0.00042877 1 14.0042 0)" fill="#605C5C"/>
                <ellipse cx="1.80296" cy="4.85507" rx="1.80296" ry="4.85507"
                         transform="matrix(0.999995 0.00331221 -0.000456771 1 11.9695 18.2779)" fill="#605C5C"/>
                <circle cx="43.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="3.5" cy="5.5" r="1.5" fill="#605C5C"/>
                <circle cx="47.5" cy="14.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="43" cy="23.5" rx="1" ry="1.5" fill="#605C5C"/>
                <circle cx="1.5" cy="23.5" r="1.5" fill="#605C5C"/>
                <ellipse cx="6" cy="14.5" rx="1" ry="1.5" fill="#605C5C"/>
              </svg>
              <h3>{{ 'SEARCH.EVENT.TITLE' | translate }}</h3>
            </div>
            <div class="accordion-content" [ngClass]="{'active-panel': isPanelOpen}">
              <app-event-search (searchResults)="onSearchResults($event)"></app-event-search>
            </div>
          </div>


          <!-- Message si aucun panneau n'est sélectionné -->
          <div class="no-panel-message" *ngIf="activePanel === -1">
            <p>{{ 'LANDING.NO_PANEL_SELECTED' | translate }}</p>
          </div>
        </div>
      </div>

      <!-- Colonne de droite (70%) : Résultats et cartes d'action -->
      <div class="main-content">
        <div class="results-container">
          <div class="results-header">
            <h3>{{ 'LANDING.RESULTS.TITLE' | translate }}</h3>
          </div>
          <ng-container *ngIf="searchResults.length > 0; else noResults">
            <div class="result-item" *ngFor="let result of searchResults">
              <p>{{ result | json }}</p>
            </div>
          </ng-container>
          <ng-template #noResults>
            <p class="no-results">{{ 'LANDING.RESULTS.NO_RESULTS' | translate }}</p>
          </ng-template>
        </div>

      </div>
    </ng-container>

    <!-- Sections professionnelles : pas de colonnes, contenu pleine largeur -->
    <ng-container *ngIf="menuType === 'professionnel'">
      <div class="professional-content">
        <!-- Contenu commun pour /professionnel -->
        <div *ngIf="activePanel === 10">
          <h2>{{ 'PROFESSIONAL.COMMON.TITLE' | translate }}</h2>
          <p>{{ 'PROFESSIONAL.COMMON.CONTENT' | translate }}</p>
          <div class="call-to-action-container">
          </div>
        </div>

        <!-- Recruteurs -->
        <div *ngIf="activePanel === 5">
          <h2>{{ 'PROFESSIONAL.RECRUITER.TITLE' | translate }}</h2>
          <p>{{ 'PROFESSIONAL.RECRUITER.CONTENT' | translate }}</p>
          <div class="call-to-action-container">
          </div>
        </div>

        <!-- Institutions -->
        <div *ngIf="activePanel === 6">
          <h2>{{ 'PROFESSIONAL.INSTITUTIONS.TITLE' | translate }}</h2>
          <p>{{ 'PROFESSIONAL.INSTITUTIONS.CONTENT' | translate }}</p>
          <div class="call-to-action-container">
          </div>
        </div>

        <!-- Organisations -->
        <div *ngIf="activePanel === 7">
          <h2>{{ 'PROFESSIONAL.ORGANISATIONS.TITLE' | translate }}</h2>
          <p>{{ 'PROFESSIONAL.ORGANISATIONS.CONTENT' | translate }}</p>
          <div class="call-to-action-container">
          </div>
        </div>

        <!-- Associations -->
        <div *ngIf="activePanel === 8">
          <h2>{{ 'PROFESSIONAL.ASSOCIATIONS.TITLE' | translate }}</h2>
          <p>{{ 'PROFESSIONAL.ASSOCIATIONS.CONTENT' | translate }}</p>
          <div class="call-to-action-container">
          </div>
        </div>

        <!-- Mouvement -->
        <div *ngIf="activePanel === 9">
          <h2>{{ 'PROFESSIONAL.MOUVEMENT.TITLE' | translate }}</h2>
          <p>{{ 'PROFESSIONAL.MOUVEMENT.CONTENT' | translate }}</p>
          <div class="call-to-action-container">
          </div>
        </div>

        <!-- Message si aucun panneau n'est sélectionné -->
        <div *ngIf="activePanel === -1">
          <p>{{ 'LANDING.NO_PANEL_SELECTED' | translate }}</p>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- Section inférieure -->
  <div class="section-container bottom-section">

    <div class="section-content">
      <app-call-to-action></app-call-to-action>

    </div>
  </div>
</div>
